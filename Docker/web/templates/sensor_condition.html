{% extends 'base.html' %}
{% block title %}Energy Saving - Sensor Condition{% endblock %}
{% block content %}
          <!-- Page Heading -->
          <h1 class="h3 mb-2 text-gray-800">Condition Managemnet</h1>
          <!-- DataTales Example -->
          <div class="card shadow mb-4">
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Room</th>
            <th>Type</th>
            <th>Time</th>
            <th>Action</th>
                    </tr>
                  </thead>
                  
                  <tbody id="conLst">
          <tr>
            <th scope="row">1</th>
            <td>IF-11M210</td>
            <td>
              Air Conditioner ON</br>
              Light OFF</br>
              Electricity ON
            </td>
            <td>
              08.00 - 17.00
            </td>
            <td>                
              <button type="button" class="btn btn-warning" id="edit">Edit</button>
              <button type="button" class="btn btn-danger" id="del">Delete</button>
            </td>
          </tr>
        </tbody>
                </table>
              </div>
            </div>
          </div>
{% endblock %}
{% block js %}
<script>
  $("#new, #edit").click(async function(){
    Swal.fire({
      width: '45rem',
      title: 'Please specify conditions.',
      html: '<table class="table">\
        <thead>\
          <tr>\
            <th scope="col">Type</th>\
            <th scope="col">Action</th>\
          </tr>\
        </thead>\
        <tbody id="conLst">\
          <tr>\
            <td>\
              <div class="form-check">\
                <input class="form-check-input" type="checkbox" value="" id="checkbox1">\
                <label class="form-check-label" for="checkbox1">Air Conditioner</label>\
              </div>\
            </td>\
            <td>\
              <select class="form-control">\
                <option>ON</option>\
                <option>OFF</option>\
              </select>\
            </td>\
            </tr>\
          <tr>\
            <td>\
              <div class="form-check">\
                <input class="form-check-input" type="checkbox" value="" id="checkbox2">\
                <label class="form-check-label" for="checkbox2">Light</label>\
              </div>\
            </td>\
            <td>\
              <select class="form-control">\
                <option>ON</option>\
                <option>OFF</option>\
              </select>\
            </td>\
          </tr>\
          <tr>\
            <td>\
              <div class="form-check">\
                <input class="form-check-input" type="checkbox" value="" id="checkbox3">\
                <label class="form-check-label" for="checkbox3">Electricity</label>\
              </div>\
            </td>\
            <td>\
              <select class="form-control">\
                <option>ON</option>\
                <option>OFF</option>\
              </select>\
            </td>\
          </tr>\
          <tr>\
            <td>\
              <div class="form-check">\
                <input class="form-check-input" type="checkbox" value="" id="checkbox2">\
                <label class="form-check-label" for="checkbox2">Motion</label>\
              </div>\
            </td>\
            <td>\
              <select class="form-control">\
                <option>Detect</option>\
                <option>Undetect</option>\
              </select>\
            </td>\
          </tr>\
        </tbody>\
      </table>\
      <div class="form-group">\
        <label for="roomlab">Room</label>\
        <select class="form-control" id="roomlab">\
          <option>IF-4C01</option>\
          <option>IF-5C01</option>\
        </select>\
      </div>\
        <div class="form-group">\
        <label for="time">Time</label>\
        <input type="text" class="form-control" name="daterange3" value="" />\
      </div>',
      focusConfirm: false,
      preConfirm: () => {
        console.log('Is checkbox1 checked:' + document.getElementById('checkbox1').checked);
        console.log('Is checkbox2 checked:' + document.getElementById('checkbox2').checked);
      }
    });
    await $('input[name="daterange3"]').daterangepicker({
      timePicker: true,
      timePicker24Hour: true,
      timePickerIncrement: 1,
      locale: {
        format: 'HH:mm'
      }
    }).on('show.daterangepicker', function (ev, picker) {
      picker.container.find(".calendar-table").hide();
    });
  });
  $("#del").click(function(){
    Swal.fire({
      title: 'Are you sure?',
      text: "You won't be able to revert this!",
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#3085d6',
      cancelButtonColor: '#d33',
      confirmButtonText: 'Yes'
    }).then((result) => {
      if (result.value) {
        Swal.fire(
          'Deleted!',
          'Your condition has been deleted.',
          'success'
        )
      }
    })
  });
</script>
{% endblock %}